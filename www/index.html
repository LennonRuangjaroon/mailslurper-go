<div class="ui-layout-center" id="mailList">
</div>

<div class="ui-layout-east" id="mailView">
</div>

<script type="ractive" id="mailListTemplate">
	<div id="mails">
		<table class="table">
			<thead>
				<tr>
					<th class="sortable" on-click="sort:dateSent">Date</th>
					<th class="sortable" on-click="sort:subject">Subject</th>
					<th class="sortable" on-click="sort:fromAddress">From</th>
					<th class="sortable" on-click="sort:toAddresses">To</th>
				</tr>
			</thead>

			<tbody style="overflow: auto;">
				{{#mails.length <= 0}}
					<tr>
						<td colspan="4">
							No mail items to display. Send some mail!
						</td>
					</tr>
				{{/mails.length <= 0}}

				{{#mails.length > 0}}
					{{# sort(mails, sortColumn) }}
						<tr on-click="viewMailItem" class="mailrow">
							<td>{{dateSent}}</td>
							<td>{{subject}}</td>
							<td>{{fromAddress}}</td>
							<td>{{(compressTo(toAddresses))}}</td>
						</tr>
					{{/mails}}
				{{/mails.length > 0}}
			</tbody>
		</table>
	</div>
</script>

<script type="ractive" id="mailViewTemplate">
	{{#subject.length > 0}}
		<div class="well">
			<table class="table table-condensed">
				<tr>
					<td><strong>Subject:</strong></td>
					<td>{{subject}}</td>
				</tr>
				<tr>
					<td><strong>Date Sent:</strong></td>
					<td>{{dateSent}}</td>
				</tr>
				<tr>
					<td><strong>From:</strong></td>
					<td>{{fromAddress}}</td>
				</tr>
			</table>
		</div>

		{{mailView}}
	{{/subject.length > 0}}

	{{#subject.length <= 0}}
		<div class="alert alert-info">
			Select a mail to view details
		</div>
	{{/subject.length <= 0}}
</script>

<script src="/resources/js/app/index.js"></script>